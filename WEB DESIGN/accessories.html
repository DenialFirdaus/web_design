<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>AustraFound | Women's Collection</title>
  <link rel="stylesheet" href="accessories.css" />
 </head>
 <body>
  <header>
   <img src="af logo.png" alt="af logo" width="198" style="max-width: 200px" />
   <nav>
    <ul>
     <li><a href="searchAF.html">Search</a></li>
     <li><a href="AF.html">Home</a></li>
     <li><a href="men.html">Men</a></li>
     <li><a href="women.html">Women</a></li>
     <li><a href="accessories.html">Accessories</a></li>
     <li><a href="contact.html">Contact</a></li>
     <li><a href="addtocarts.html">Add to Carts</a></li>
     <li><a href="login.html">Log in</a></li>
    </ul>
   </nav>
  </header>

  <section class="products">
   <h2>Accessories's Collection</h2>
   <div class="product-grid">
    <!-- Product 1 -->
    <div class="product">
     <img src="acc1.jpeg" alt="Product 4" />
     <h3>INFINITY - Belt</h3>
     <p>RM79.99</p>
     <label for="size1">Size:</label>
     <select id="size1" class="size-select">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
     </select>
     <a href="#" class="buy-btn">Buy Now</a>
     <a
      href="addtocarts.html"
      class="cart-btn"
      data-name="INFINITY - Belt"
      data-price="79.99"
      >Add to Cart</a
     >
    </div>
    <!-- Product 2 -->
    <div class="product">
     <img src="acc2.jpeg" alt="Product 5.1" />
     <h3>RIZERS - Sunglasses</h3>
     <p>RM99.99</p>
     <label for="size2">Size:</label>
     <select id="size2" class="size-select">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
     </select>
     <a href="#" class="buy-btn">Buy Now</a>
     <a
      href="addtocarts.html"
      class="cart-btn"
      data-name="RIZERS - Sunglasses"
      data-price="99.99"
      >Add to Cart</a
     >
    </div>
    <!-- Product 3 -->
    <div class="product">
     <img src="acc3.jpeg" alt="Product 6" />
     <h3>MEA CULPA - Graphic Beanie</h3>
     <p>RM69.99</p>
     <label for="size3">Size:</label>
     <select id="size3" class="size-select">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
     </select>
     <a href="#" class="buy-btn">Buy Now</a>
     <a
      href="addtocarts.html"
      class="cart-btn"
      data-name="MEA CULPA - Graphic Beanie"
      data-price="69.99"
      >Add to Cart</a
     >
    </div>
    <!-- Product 4 -->
    <div class="product">
     <img src="acc4.jpeg" alt="Product 4" />
     <h3>EYELET - Belt</h3>
     <p>RM79.99</p>
     <label for="size4">Size:</label>
     <select id="size4" class="size-select">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
     </select>
     <a href="#" class="buy-btn">Buy Now</a>
     <a
      href="addtocarts.html"
      class="cart-btn"
      data-name="EYELET - Belt"
      data-price="79.99"
      >Add to Cart</a
     >
    </div>
    <!-- Product 5 -->
    <div class="product">
     <img src="acc5.jpeg" alt="Product 5" />
     <h3>LIGHTING - Graphic Beanie</h3>
     <p>RM69.99</p>
     <label for="size5">Size:</label>
     <select id="size5" class="size-select">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
     </select>
     <a href="#" class="buy-btn">Buy Now</a>
     <a
      href="addtocarts.html"
      class="cart-btn"
      data-name="LIGHTING - Graphic Beanie"
      data-price="69.99"
      >Add to Cart</a
     >
    </div>
    <!-- Product 6 -->
    <div class="product">
     <img src="acc6.jpeg" alt="Product 6" />
     <h3>STAR - Graphic Beanie</h3>
     <p>RM69.99</p>
     <label for="size6">Size:</label>
     <select id="size6" class="size-select">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
     </select>
     <a href="#" class="buy-btn">Buy Now</a>
     <a
      href="addtocarts.html"
      class="cart-btn"
      data-name="STAR - Graphic Beanie"
      data-price="69.99"
      >Add to Cart</a
     >
    </div>
    <!-- Product 7 -->
    <div class="product">
     <img src="acc7.jpeg" alt="Product 7" />
     <h3>SKULL - Rhinestone Belt</h3>
     <p>RM129.99</p>
     <label for="size7">Size:</label>
     <select id="size7" class="size-select">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
     </select>
     <a href="#" class="buy-btn">Buy Now</a>
     <a
      href="addtocarts.html"
      class="cart-btn"
      data-name="SKULL - Rhinestone Belt"
      data-price="129.99"
      >Add to Cart</a
     >
    </div>
    <!-- Product 8 -->
    <div class="product">
     <img src="acc8.jpeg" alt="Product 8" />
     <h3>ORLANDO - Graphic Curved Cap</h3>
     <p>RM59.99</p>
     <label for="size8">Size:</label>
     <select id="size8" class="size-select">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
     </select>
     <a href="#" class="buy-btn">Buy Now</a>
     <a
      href="addtocarts.html"
      class="cart-btn"
      data-name="ORLANDO - Graphic Curved Cap"
      data-price="59.99"
      >Add to Cart</a
     >
    </div>
   </div>
  </section>

  <footer>
   <p>&copy; 2024 AustraFound. All Rights Reserved.</p>
  </footer>
  <script src="add-to-cart.js"></script>
  <script>
   // Listen for "Add to Cart" button clicks
   document.querySelectorAll(".cart-btn").forEach((button) => {
    button.addEventListener("click", function (event) {
     event.preventDefault(); // Prevent default anchor behavior

     const productName = this.getAttribute("data-name");
     const productPrice = parseFloat(this.getAttribute("data-price"));

     // Check if the product name and price are valid
     if (!productName || isNaN(productPrice)) {
      alert("Product details are missing.");
      return;
     }

     // Create product object
     const product = {
      name: productName,
      price: productPrice,
      quantity: 1, // Default quantity
     };

     // Get cart from localStorage or create a new one
     let cart = JSON.parse(localStorage.getItem("cart")) || [];

     // Check if the product is already in the cart
     const existingProductIndex = cart.findIndex(
      (item) => item.name === product.name
     );
     if (existingProductIndex > -1) {
      // Increase quantity if it already exists
      cart[existingProductIndex].quantity++;
     } else {
      // Add new product to the cart
      cart.push(product);
     }

     // Save updated cart to localStorage
     localStorage.setItem("cart", JSON.stringify(cart));

     // Show alert and navigate to addtocarts.html
     alert(`${productName} has been added to your cart!`);
     window.location.href = "addtocarts.html";
    });
   });
  </script>

  <!-- Buy Now JavaScript -->
  <script src="buynow.js"></script>

  <script>
   document.addEventListener("DOMContentLoaded", function () {
    const products = Array.from(document.querySelectorAll(".product")).map(
     (product) => ({
      id: Math.random().toString(36).substr(2, 9),
      name: product.querySelector("h3").textContent,
      price: parseFloat(
       product.querySelector("p").textContent.replace("RM", "")
      ),
      image: product.querySelector("img").src,
      category: "accessories",
     })
    );

    let allProducts = JSON.parse(localStorage.getItem("allProducts")) || [];
    allProducts = allProducts.filter((p) => p.category !== "accessories");
    allProducts = [...allProducts, ...products];
    localStorage.setItem("allProducts", JSON.stringify(allProducts));
   });
  </script>
 </body>
</html>
